<% if @page.template == "Wiki" %>
  <div class="wiki-sidebar-container">
    <div class="wiki-sidebar-title"><a class="wiki-title" href="#">X Close Menu</a></div>
    <div class="wiki-sidebar">
        <%= raw @page.wikiNav %>
    </div>    
  </div>  
  <div class="wiki-button">
    <button>Glossary</button>
  </div>
<%end%>

<main class="usa-grid usa-section" id="main-content">
<%= raw @page.body %>
</main>

  <% if @page.template == "File Directory" %>
  <%= render 'fileDirectory', page: @page %>
  <%end%>
  
  <% if @page.template == "Training Portal" %>
  <%= render 'trainingPortal', page: @page %>
  <%end%>
  
  <% if @page.slug == "wiki" %>
  <%= render 'wikiHome', page: @page %>
  <%end%>
  
  <%# <%= link_to 'Edit', edit_admin_page_path(@page) %>
  <%# <%= link_to 'Back', admin_pages_path %>
</main>

<style>
  
  .wiki-sidebar-container {
    float: right;
    margin-top: 0;
    position:fixed;
    right:0;
    top:0;
    height: 100%;
    z-index: 9999;
  }
  
  .wiki-sidebar {
    float: right;
    height: 100%;
    background: #f1f1f1;
    font-size: 14px;
    width: 255px;
    padding: 15px;
    overflow: scroll;
  }
 
  .wiki-sidebar-title {
    width: 120%;
    height: 45px;
    background: #0071bc;
    color: #ffffff;
    padding: 12px 0 0 15px;
   }
  
  a.wiki-title {
    text-decoration: none;
    color: #fff;
  } 
  a.wiki-title:visited {
    color: #fff;
  }
  
  a.wiki-title:hover {
    color: #f1f1f1;
    text-decoration: underline;
  }
   
   .wiki-button {
     position: fixed;
     margin: 10px;
     right: 0;
   }
   
</style>

<script>
  $(document).ready(function() {
   $('.wiki-sidebar-container').hide();
   
   $('.wiki-button').click(function() {
   $('.wiki-sidebar-container').show();
   $('.wiki-button').hide();
    return false;
   });
   
   $('body').click(function() {
    $('.wiki-sidebar-container').hide();
    $('.wiki-button').show();
   });
   
   $('.wiki-title').click(function() {
    $('.wiki-sidebar-container').hide();
    $('.wiki-button').show();
    return false;
   });
});
</script>


<script>
$(document).ready(function(){
  // Add smooth scrolling to all links
  $("a").on('click', function(event) {

    // Make sure this.hash has a value before overriding default behavior
    if (this.hash !== "") {
      // Prevent default anchor click behavior
      event.preventDefault();

      // Store hash
      var hash = this.hash;

      // Using jQuery's animate() method to add smooth page scroll
      // The optional number (800) specifies the number of milliseconds it takes to scroll to the specified area
      $('html, body').animate({
        scrollTop: $(hash).offset().top
      }, 800, function(){
   
        // Add hash (#) to URL when done scrolling (default click behavior)
        window.location.hash = hash;
      });
    } // End if
  });
});
</script>